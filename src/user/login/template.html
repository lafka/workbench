<form id="loginform" class="form-horizontal" role="form" v-on="submit: login(email, password, $event)">

	<div class="page-header">
		<h3>Login</h3>
	</div>

	<div class="alert alert-danger" v-if="errFlash">
			<b>Error:</b> {{errFlash}}
	</div>

	<div class="form-group" v-class="has-error: errors.email,has-warning: errors.credential">
		<div class="input-group">
			<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
			<input
				v-model="email"
				v-on="change: errors.email = undefined;"
				id="login-username"
				type="text"
				class="form-control"
				name="username"
				value=""
				placeholder="Username or Email">
		</div>
		<div
				v-if="errors.email"
				class="help-block text-right">
			<b>* {{errors.email}}</b>
		</div>
	</div>

	<div class="form-group" v-class="has-error: errors.password,has-warning: errors.credential">
		<div class="input-group">
			<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
			<input
				v-model="password"
				v-on="change: errors.password = undefined"
				id="login-password"
				type="password"
				class="form-control"
				name="Password"
				placeholder="Password">
		</div>
		<div
				v-if="errors.password"
				class="help-block text-right">
			<b>* {{errors.password}}</b>
		</div>
	</div>

	<div style="margin-top:10px" class="form-group">
		<div class="col-sm-12 controls">
			<button
				v-on="click: login(email, password, $event)"
				v-attr="disabled: loginPromise"
				v-class="'btn-spinner': loginPromise"
				class="btn btn-success">

				<span v-wb-spinner="loginPromise"></span>

				<span v-if="loginPromise">Authenticating</span>
				<span v-if="!loginPromise">Login</span>
			</button>
	</div>
</form>
